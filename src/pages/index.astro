---
import Layout from '../layouts/Layout.astro';
import BlogPost from '../components/BlogPost.astro';
import { getCollection } from 'astro:content';

// Get all blog posts and sort by publication date (newest first)
const posts = await getCollection('posts');
const sortedPosts = posts
  .filter(post => post.slug !== 'training-next-generation-swes') // Hide specific post
  .filter(post => post.slug !== 'general-framework-building-ai-agents') // Hide general framework for building ai agents
  .filter(post => post.slug !== 'picking-right-problems-for-ai') // Hide picking the right problems for ai
  .sort((a, b) => b.data.pubDate.getTime() - a.data.pubDate.getTime());
---

<Layout title="Adam Bossy-Mendoza | Architecting LLM apps, Building Agents, 0 to 1 and 1 to N Startup Engineering and Tech Industry Leadership">
  <div class="pt-20 pb-8 bg-gray-200">
    <div class="max-w-3xl mx-auto px-4">
      <!-- Desktop layout (side by side) -->
      <div class="flex flex-col md:flex-row md:gap-8 md:items-start">
        <div class="flex-1">
          <h1 class="text-5xl font-bold mb-6">Adam Bossy-Mendoza</h1>
          <p class="text-lg text-gray-600 mb-8 md:mb-0">A collection of living documents on architecting LLM applications, building AI agents, startup engineering from 0 to 1 and 1 to N, and leadership in the tech industryâ€”topics I revisit frequently to refine my insights while sharing them with others.</p>
        </div>
        <!-- Image is below text on mobile, beside text on desktop -->
        <img src="https://res.cloudinary.com/dwt45tvzy/image/upload/t_Profile Picture/v1740535265/profile_u3msba.jpg"
          alt="Adam Bossy-Mendoza"
          class="w-40 h-56 object-cover object-top rounded-lg mx-auto md:mx-0"
        />
      </div>
    </div>
  </div>

  <section class="max-w-7xl mx-auto">
    <div class="py-6">
      {sortedPosts.map(post => (
        <BlogPost 
          title={post.data.title}
          description={post.data.description || ""}
          pubDate={post.data.pubDate}
          author={post.data.author}
          slug={post.slug}
          emoji={post.data.emoji}
        />
      ))}
    </div>
  </section>

</Layout>